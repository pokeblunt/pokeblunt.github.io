<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokemon Tier List Creator</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,-apple-system,sans-serif;padding:20px;background:#f5f5f5}
.container{max-width:1400px;margin:0 auto}
h1{margin-bottom:20px;color:#333}
h2{margin-bottom:15px;color:#333;font-size:18px}
.section{background:white;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.controls{display:flex;gap:10px;margin-bottom:15px;flex-wrap:wrap}
button{padding:8px 16px;background:#2196F3;color:white;border:none;border-radius:4px;cursor:pointer;font-size:14px}
button:hover{background:#1976D2}
button.secondary{background:#FF9800}
button.secondary:hover{background:#F57C00}
button.success{background:#4CAF50}
button.success:hover{background:#45a049}
textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-family:monospace;font-size:12px;min-height:100px;resize:vertical}
.search-section{margin-bottom:20px}
.search-section input{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px}
.pokemon-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px;margin-bottom:20px}
.pokemon-card{padding:15px;text-align:center;border:2px solid #ddd;border-radius:6px;cursor:pointer;transition:all 0.2s;background:white}
.pokemon-card:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1)}
.pokemon-card.selected{background:#e3f2fd;border-color:#2196F3}
.pokemon-card img{width:80px;height:80px;object-fit:contain;display:block;margin:0 auto 8px}
.pokemon-number{font-size:12px;color:#666;margin-bottom:5px}
.pokemon-name{font-weight:bold;color:#333}
.ranked-list{min-height:200px;border:2px dashed #ddd;border-radius:6px;padding:15px;background:#fafafa;display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px}
.ranked-item{position:relative;text-align:center;background:white;padding:10px;border:2px solid #ddd;border-radius:6px;cursor:move;transition:all 0.2s}
.ranked-item:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1)}
.ranked-item.dragging{opacity:0.5}
.ranked-item.drag-over{border:3px solid #2196F3;background:#e3f2fd}
.rank-item{position:absolute;top:5px;left:5px;background:#2196F3;color:white;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-weight:bold;font-size:12px;z-index:1}
.ranked-item img{width:60px;height:60px;object-fit:contain;display:block;margin:0 auto 5px}
.ranked-item span{display:block;font-size:11px;color:#666;margin-bottom:3px}
.ranked-item .pokemon-name{font-weight:bold;font-size:12px;color:#333;margin-bottom:5px}
.ranked-item button{position:absolute;top:5px;right:5px;background:rgba(255,0,0,0.6);border:none;color:white;padding:2px 6px;border-radius:3px;font-size:10px;cursor:pointer;z-index:1}
.ranked-item button:hover{background:rgba(255,0,0,0.8)}
.tier-results{margin-top:20px}
.tier-section{margin-bottom:20px}
.tier-header{font-size:18px;font-weight:bold;margin-bottom:10px;padding:10px;background:#f0f0f0;border-radius:4px}
.tier-pokemon{display:flex;flex-wrap:wrap;gap:8px}
.tier-pokemon span{background:#e3f2fd;padding:6px 12px;border-radius:4px;font-size:14px}
.imported-rankings{margin-top:15px}
.ranking-item{background:#f9f9f9;padding:10px;border-radius:4px;margin-bottom:10px;display:flex;justify-content:space-between;align-items:center}
.ranking-item span{flex:1}
</style>
</head>
<body>
<div class="container">
<h1>Pokemon Tier List Creator</h1>
<div class="section">
<h2>Step 1: Rank Your Pokemon</h2>
<div>
<h3>Your Ranking (drag to reorder)</h3>
<div class="ranked-list" id="rankedList">Add Pokemon from below by clicking on them</div>
<div class="controls">
<button onclick="exportRanking()">Export Your Ranking</button>
<button class="secondary" onclick="importMyRanking()">Import Your Ranking</button>
</div>
<textarea id="rankingData" placeholder='Paste ranking JSON here: {"pokemon": [1, 25, 150, ...]}' style="margin-top:10px"></textarea>
</div>
<div class="search-section" style="margin-top:20px">
<input type="text" id="searchInput" placeholder="Search Pokemon by name or number..." oninput="filterPokemon()">
</div>
<div class="pokemon-grid" id="pokemonGrid"></div>
</div>
<div class="section">
<h2>Step 2: Import Rankings</h2>
<textarea id="importRanking" placeholder='Paste ranking JSON here: {"pokemon": [1, 25, 150, ...]}'></textarea>
<button class="secondary" onclick="importRanking()">Import Ranking</button>
<div class="imported-rankings" id="importedRankings"></div>
</div>
<div class="section">
<h2>Step 3: Calculate Tiers</h2>
<button class="success" onclick="calculateTiers()">Calculate Tiers from All Rankings</button>
<div class="tier-results" id="tierResults"></div>
<button class="secondary" onclick="exportTierList()" style="margin-top:15px">Export Tier List for Draft</button>
<textarea id="tierListOutput" placeholder="Tier list will appear here..." readonly></textarea>
</div>
</div>
<script>
const MAX_POKEMON=1025;
const pokemonNameCache={};
let rankedPokemon=[];
let importedRankings=[];
function capitalizeName(str){
return str.split('-').map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(' ');
}
async function getPokemonName(num){
if(pokemonNameCache[num])return pokemonNameCache[num];
try{
const response=await fetch(`https://pokeapi.co/api/v2/pokemon/${num}/`);
if(!response.ok)return null;
const data=await response.json();
const name=capitalizeName(data.name);
pokemonNameCache[num]=name;
return name;
}catch(e){
return null;
}
}
function getPokemonImageUrl(num){
return `https://www.serebii.net/pokemon/art/${String(num).padStart(3,'0')}.png`;
}
async function renderPokemon(filter=''){
const container=document.getElementById('pokemonGrid');
const numbers=Array.from({length:MAX_POKEMON},(_,i)=>i+1);
let filtered=numbers.filter(num=>!rankedPokemon.includes(num));
if(filter){
const filterLower=filter.toLowerCase();
const tempFiltered=[];
for(let num of filtered){
if(pokemonNameCache[num]&&pokemonNameCache[num].toLowerCase().includes(filterLower)){
tempFiltered.push(num);
}else if(String(num).includes(filter)){
tempFiltered.push(num);
}
}
if(tempFiltered.length===0){
for(let num of filtered){
const name=await getPokemonName(num);
if(name&&name.toLowerCase().includes(filterLower)){
tempFiltered.push(num);
}
}
}
filtered=tempFiltered;
}
const html=await Promise.all(filtered.map(async num=>{
const name=await getPokemonName(num);
return `<div class="pokemon-card" onclick="addToRanking(${num})" title="${name||num}">
<img src="${getPokemonImageUrl(num)}" alt="${name||num}" onerror="this.style.display='none'">
<div class="pokemon-number">#${num}</div>
<div class="pokemon-name">${name||'...'}</div>
</div>`;
}));
container.innerHTML=html.join('');
}
async function filterPokemon(){
const filter=document.getElementById('searchInput').value;
await renderPokemon(filter);
}
async function addToRanking(num){
if(rankedPokemon.includes(num))return;
rankedPokemon.push(num);
await renderRankedList();
await renderPokemon(document.getElementById('searchInput').value);
}
async function renderRankedList(){
const container=document.getElementById('rankedList');
if(rankedPokemon.length===0){
container.innerHTML='<p style="color:#999;text-align:center">Add Pokemon from below by clicking on them</p>';
return;
}
const html=await Promise.all(rankedPokemon.map(async (num,idx)=>{
const name=await getPokemonName(num);
return `<div class="ranked-item" draggable="true"
ondragstart="handleDragStart(event,${idx})"
ondragover="handleDragOver(event)"
ondragleave="handleDragLeave(event)"
ondrop="handleDrop(event,${idx})"
ondragend="handleDragEnd(event)">
<div class="rank-item">${idx+1}</div>
<img src="${getPokemonImageUrl(num)}" alt="${name||num}" onerror="this.style.display='none'">
<span>#${num}</span>
<div class="pokemon-name">${name||'...'}</div>
<button onclick="removeFromRanking(${idx})" title="Remove">âœ•</button>
</div>`;
}));
container.innerHTML=html.join('');
}
function removeFromRanking(index){
rankedPokemon.splice(index,1);
renderRankedList();
renderPokemon(document.getElementById('searchInput').value);
}
let draggedItem=null;
function handleDragStart(e,index){
draggedItem=index;
e.dataTransfer.effectAllowed='move';
e.currentTarget.classList.add('dragging');
}
function handleDragOver(e){
e.preventDefault();
e.stopPropagation();
e.dataTransfer.dropEffect='move';
e.currentTarget.classList.add('drag-over');
}
function handleDragLeave(e){
e.currentTarget.classList.remove('drag-over');
}
function handleDrop(e,index){
e.preventDefault();
e.stopPropagation();
e.currentTarget.classList.remove('drag-over');
if(draggedItem!==null&&draggedItem!==index){
const [moved]=rankedPokemon.splice(draggedItem,1);
rankedPokemon.splice(index,0,moved);
renderRankedList();
}
draggedItem=null;
}
function handleDragEnd(e){
e.currentTarget.classList.remove('dragging');
document.querySelectorAll('.drag-over').forEach(el=>el.classList.remove('drag-over'));
draggedItem=null;
}
async function exportRanking(){
if(rankedPokemon.length===0)return;
const data=JSON.stringify({pokemon:rankedPokemon},null,2);
const textarea=document.getElementById('rankingData');
textarea.value=data;
try{
await navigator.clipboard.writeText(data);
}catch(e){
textarea.select();
}
}
async function importMyRanking(){
const textarea=document.getElementById('rankingData');
const data=textarea.value.trim();
if(!data)return;
try{
const ranking=JSON.parse(data);
if(!ranking.pokemon||!Array.isArray(ranking.pokemon)){
throw new Error('Invalid format');
}
rankedPokemon=ranking.pokemon;
await renderRankedList();
await renderPokemon(document.getElementById('searchInput').value);
}catch(e){
alert('Error importing ranking: '+e.message);
}
}
function importRanking(){
const textarea=document.getElementById('importRanking');
const data=textarea.value.trim();
if(!data)return;
try{
const ranking=JSON.parse(data);
if(!ranking.pokemon||!Array.isArray(ranking.pokemon)){
throw new Error('Invalid format');
}
importedRankings.push({id:Date.now(),pokemon:ranking.pokemon});
renderImportedRankings();
textarea.value='';
}catch(e){
alert('Error importing ranking: '+e.message);
}
}
async function renderImportedRankings(){
const container=document.getElementById('importedRankings');
if(importedRankings.length===0){
container.innerHTML='';
return;
}
container.innerHTML='<h3>Imported Rankings:</h3>'+importedRankings.map((ranking,idx)=>`
<div class="ranking-item">
<span>Ranking ${idx+1}: ${ranking.pokemon.length} Pokemon</span>
<button onclick="removeRanking(${idx})">Remove</button>
</div>
`).join('');
}
function removeRanking(index){
importedRankings.splice(index,1);
renderImportedRankings();
}
async function calculateTiers(){
const allRankings=[...importedRankings];
if(rankedPokemon.length>0){
allRankings.push({pokemon:rankedPokemon});
}
if(allRankings.length===0){
alert('Please add at least one ranking first');
return;
}
const scores={};
allRankings.forEach(ranking=>{
ranking.pokemon.forEach((num,idx)=>{
if(!scores[num])scores[num]={total:0,count:0};
scores[num].total+=idx+1;
scores[num].count++;
});
});
const averages=Object.entries(scores).map(([num,data])=>({
num:parseInt(num),
avg:data.total/data.count,
count:data.count
})).sort((a,b)=>a.avg-b.avg);
const tierRanges=[
{name:'S',max:Math.ceil(averages.length*0.1)},
{name:'A',max:Math.ceil(averages.length*0.3)},
{name:'B',max:Math.ceil(averages.length*0.5)},
{name:'C',max:Math.ceil(averages.length*0.7)},
{name:'D',max:Math.ceil(averages.length*0.85)}
];
const tierList={};
let currentIdx=0;
tierRanges.forEach(range=>{
if(!tierList[range.name])tierList[range.name]=[];
while(currentIdx<range.max&&currentIdx<averages.length){
tierList[range.name].push(averages[currentIdx].num);
currentIdx++;
}
});
if(currentIdx<averages.length){
if(!tierList['F'])tierList['F']=[];
while(currentIdx<averages.length){
tierList['F'].push(averages[currentIdx].num);
currentIdx++;
}
}
displayTierResults(tierList);
}
async function displayTierResults(tierList){
const container=document.getElementById('tierResults');
const tierOrder=Object.keys(tierList);
let html='';
for(const tier of tierOrder){
const pokemon=tierList[tier];
if(pokemon.length===0)continue;
const names=await Promise.all(pokemon.map(async num=>{
const name=await getPokemonName(num);
return `#${num} ${name||'...'}`;
}));
html+=`<div class="tier-section">
<div class="tier-header">Tier ${tier} (${pokemon.length} Pokemon)</div>
<div class="tier-pokemon">${names.map(name=>`<span>${name}</span>`).join('')}</div>
</div>`;
}
container.innerHTML=html;
const output=JSON.stringify(tierList,null,2);
document.getElementById('tierListOutput').value=output;
try{
await navigator.clipboard.writeText(output);
}catch(e){}
}
async function exportTierList(){
const output=document.getElementById('tierListOutput').value;
if(!output){
alert('Please calculate tiers first');
return;
}
try{
await navigator.clipboard.writeText(output);
alert('Tier list copied to clipboard!');
}catch(e){
document.getElementById('tierListOutput').select();
}
}
renderPokemon();
</script>
</body>
</html>

