<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pokemon Draft</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:system-ui,-apple-system,sans-serif;padding:20px;background:#f5f5f5}
.container{max-width:1200px;margin:0 auto}
h1{margin-bottom:20px;color:#333}
.trainers-section{background:white;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.trainer-controls{display:flex;gap:10px;margin-bottom:20px;flex-wrap:wrap}
.trainer-controls input{flex:1;min-width:150px;padding:10px;border:1px solid #ddd;border-radius:4px}
.trainer-controls button{padding:10px 20px;background:#4CAF50;color:white;border:none;border-radius:4px;cursor:pointer}
.trainer-controls button:hover{background:#45a049}
.save-load-section{background:white;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.save-load-section h3{margin-bottom:15px;color:#333;font-size:16px}
.save-load-controls{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:15px}
.save-load-controls button{padding:8px 16px;background:#2196F3;color:white;border:none;border-radius:4px;cursor:pointer;font-size:14px}
.save-load-controls button:hover{background:#1976D2}
.save-load-controls button.secondary{background:#FF9800}
.save-load-controls button.secondary:hover{background:#F57C00}
.save-load-section textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-family:monospace;font-size:12px;min-height:100px;resize:vertical}
.tier-list{background:white;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.tier-list h3{margin-bottom:15px;color:#333;font-size:16px}
.tier-section{margin-bottom:30px}
.tier-header{font-size:18px;font-weight:bold;margin-bottom:15px;padding:10px;background:#f0f0f0;border-radius:4px}
.tier-list textarea{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-family:monospace;font-size:12px;min-height:100px;resize:vertical}
.pokemon-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:10px;background:white;padding:20px;border-radius:8px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.trainers-display{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:15px}
.trainer-card{background:#f9f9f9;padding:15px;border-radius:6px;border:2px solid #ddd}
.trainer-card.active{border-color:#4CAF50;background:#e8f5e9}
.trainer-name{font-weight:bold;margin-bottom:10px;color:#333;display:flex;align-items:center;justify-content:space-between}
.trainer-delete-btn{background:rgba(255,0,0,0.6);border:none;color:white;cursor:pointer;padding:4px 8px;border-radius:3px;font-size:11px}
.trainer-delete-btn:hover{background:rgba(255,0,0,0.8)}
.drafted-pokemon{display:flex;flex-direction:column;gap:5px;margin-top:10px}
.pokemon-item{display:flex;align-items:center;gap:8px;background:#4CAF50;color:white;padding:6px 8px;border-radius:4px;font-size:12px;cursor:move}
.pokemon-item img{width:32px;height:32px;object-fit:contain}
.pokemon-item span{flex:1}
.pokemon-item.dragging{opacity:0.5}
.pokemon-item.drag-over{border-top:2px solid white}
.pokemon-item .remove-btn{background:rgba(255,0,0,0.6);border:none;color:white;cursor:pointer;padding:2px 6px;border-radius:3px;font-size:10px;margin-left:auto}
.pokemon-item .remove-btn:hover{background:rgba(255,0,0,0.8)}
.search-section{background:white;padding:20px;border-radius:8px;margin-bottom:20px;box-shadow:0 2px 4px rgba(0,0,0,0.1)}
.search-section input{width:100%;padding:10px;border:1px solid #ddd;border-radius:4px;font-size:16px}
.pokemon-card{padding:15px;text-align:center;border:2px solid #ddd;border-radius:6px;cursor:pointer;transition:all 0.2s;background:white}
.pokemon-card:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.1)}
.pokemon-card.drafted{opacity:0.5;cursor:not-allowed;background:#e0e0e0}
.pokemon-card img{width:80px;height:80px;object-fit:contain;display:block;margin:0 auto 8px}
.pokemon-number{font-size:12px;color:#666;margin-bottom:5px}
.pokemon-name{font-weight:bold;color:#333}
</style>
</head>
<body>
<div class="container">
<h1>Pokemon Draft</h1>
<div class="trainers-section">
<div class="trainer-controls">
<input type="text" id="trainerNameInput" placeholder="Enter trainer name">
<button onclick="addTrainer()">Add Trainer</button>
</div>
<div class="trainers-display" id="trainersDisplay"></div>
</div>
<div class="save-load-section">
<h3>Save & Load Draft</h3>
<div class="save-load-controls">
<button onclick="exportDraft()">Export Draft</button>
<button class="secondary" onclick="loadDraft()">Load Draft</button>
</div>
<textarea id="draftData" placeholder="Draft data will appear here when you export, or paste data here to load"></textarea>
</div>
<div class="tier-list">
<h3>Tier List</h3>
<div class="save-load-controls">
<button onclick="exportTierList()">Export Tier List</button>
<button class="secondary" onclick="loadTierList()">Load Tier List</button>
</div>
<textarea id="tierListData" placeholder='Tier list JSON format: {"S": [1, 2, 3], "A": [4, 5, 6], ...}'></textarea>
</div>
<div class="search-section">
<input type="text" id="searchInput" placeholder="Search Pokemon by name..." oninput="filterPokemon()">
</div>
<div id="pokemonGrid"></div>
</div>
<script>
const MAX_POKEMON=1025;
const pokemonNameCache={};
let trainers=[];
let activeTrainerId=null;
let draftedPokemon=new Set();
let tierList={};
function capitalizeName(str){
return str.split('-').map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(' ');
}
async function getPokemonName(num){
if(pokemonNameCache[num])return pokemonNameCache[num];
try{
const response=await fetch(`https://pokeapi.co/api/v2/pokemon/${num}/`);
if(!response.ok)return null;
const data=await response.json();
const name=capitalizeName(data.name);
pokemonNameCache[num]=name;
return name;
}catch(e){
return null;
}
}
function getPokemonImageUrl(num){
return `https://www.serebii.net/pokemon/art/${String(num).padStart(3,'0')}.png`;
}
async function addTrainer(){
const nameInput=document.getElementById('trainerNameInput');
const name=nameInput.value.trim();
if(!name)return;
const trainer={id:Date.now(),name,pokemon:[]};
trainers.push(trainer);
nameInput.value='';
await renderTrainers();
if(!activeTrainerId)activeTrainerId=trainer.id;
}
async function setActiveTrainer(id){
activeTrainerId=id;
await renderTrainers();
}
async function deleteTrainer(trainerId,e){
e.stopPropagation();
const trainer=trainers.find(t=>t.id===trainerId);
if(trainer){
trainer.pokemon.forEach(num=>draftedPokemon.delete(num));
trainers=trainers.filter(t=>t.id!==trainerId);
if(activeTrainerId===trainerId){
activeTrainerId=trainers.length>0?trainers[0].id:null;
}
await renderTrainers();
await renderPokemon(document.getElementById('searchInput').value);
}
}
async function draftPokemon(number){
if(!activeTrainerId||draftedPokemon.has(number))return;
const trainer=trainers.find(t=>t.id===activeTrainerId);
if(trainer){
trainer.pokemon.push(number);
draftedPokemon.add(number);
await renderTrainers();
await renderPokemon();
}
}
async function removePokemon(trainerId,index){
const trainer=trainers.find(t=>t.id===trainerId);
if(trainer){
const num=trainer.pokemon[index];
trainer.pokemon.splice(index,1);
draftedPokemon.delete(num);
await renderTrainers();
await renderPokemon(document.getElementById('searchInput').value);
}
}
let draggedItem=null;
function handleDragStart(e,trainerId,index){
draggedItem={trainerId,index};
e.dataTransfer.effectAllowed='move';
e.currentTarget.classList.add('dragging');
}
function handleDragOver(e){
e.preventDefault();
e.stopPropagation();
e.dataTransfer.dropEffect='move';
e.currentTarget.classList.add('drag-over');
}
function handleDragLeave(e){
e.currentTarget.classList.remove('drag-over');
}
async function handleDrop(e,trainerId,index){
e.preventDefault();
e.stopPropagation();
e.currentTarget.classList.remove('drag-over');
if(draggedItem&&draggedItem.trainerId===trainerId&&draggedItem.index!==index){
const trainer=trainers.find(t=>t.id===trainerId);
if(trainer){
const [moved]=trainer.pokemon.splice(draggedItem.index,1);
const newIndex=draggedItem.index<index?index-1:index;
trainer.pokemon.splice(newIndex,0,moved);
await renderTrainers();
}
}
draggedItem=null;
}
function handleDragEnd(e){
e.currentTarget.classList.remove('dragging');
document.querySelectorAll('.drag-over').forEach(el=>el.classList.remove('drag-over'));
draggedItem=null;
}
async function renderTrainers(){
const container=document.getElementById('trainersDisplay');
const html=await Promise.all(trainers.map(async trainer=>{
const pokemonHtml=await Promise.all(trainer.pokemon.map(async (num,idx)=>{
const name=await getPokemonName(num);
return `<div class="pokemon-item" draggable="true"
ondragstart="handleDragStart(event,${trainer.id},${idx})"
ondragover="handleDragOver(event)"
ondragleave="handleDragLeave(event)"
ondrop="handleDrop(event,${trainer.id},${idx})"
ondragend="handleDragEnd(event)">
<img src="${getPokemonImageUrl(num)}" alt="${name||num}" onerror="this.style.display='none'">
<span>#${num} ${name||'...'}</span>
<button class="remove-btn" onclick="removePokemon(${trainer.id},${idx})" title="Remove">✕</button>
</div>`;
}));
return `<div class="trainer-card ${trainer.id===activeTrainerId?'active':''}" onclick="setActiveTrainer(${trainer.id})">
<div class="trainer-name">
<span>${trainer.name}</span>
<button class="trainer-delete-btn" onclick="deleteTrainer(${trainer.id},event)" title="Delete trainer">✕</button>
</div>
<div class="drafted-pokemon" onclick="event.stopPropagation()">
${pokemonHtml.join('')}
</div>
</div>`;
}));
container.innerHTML=html.join('');
}
function getTierForPokemon(num){
for(const [tier,numbers] of Object.entries(tierList)){
if(numbers.includes(num))return tier;
}
return null;
}
async function renderPokemon(filter=''){
const container=document.getElementById('pokemonGrid');
const numbers=Array.from({length:MAX_POKEMON},(_,i)=>i+1);
let filtered=numbers.filter(num=>!draftedPokemon.has(num));
if(filter){
const filterLower=filter.toLowerCase();
const tempFiltered=[];
for(let num of filtered){
if(pokemonNameCache[num]&&pokemonNameCache[num].toLowerCase().includes(filterLower)){
tempFiltered.push(num);
}
}
if(tempFiltered.length===0){
for(let num of filtered){
const name=await getPokemonName(num);
if(name&&name.toLowerCase().includes(filterLower)){
tempFiltered.push(num);
}
}
}
filtered=tempFiltered;
}
if(Object.keys(tierList).length===0){
const html=await Promise.all(filtered.map(async num=>{
const name=await getPokemonName(num);
return `<div class="pokemon-card" onclick="draftPokemon(${num})" 
title="Draft for ${trainers.find(t=>t.id===activeTrainerId)?.name||'trainer'}">
<img src="${getPokemonImageUrl(num)}" alt="${name||num}" onerror="this.style.display='none'">
<div class="pokemon-number">#${num}</div>
<div class="pokemon-name">${name||'...'}</div>
</div>`;
}));
container.innerHTML=`<div class="pokemon-grid">${html.join('')}</div>`;
}else{
const tierGroups={};
const untiered=[];
for(let num of filtered){
const tier=getTierForPokemon(num);
if(tier){
if(!tierGroups[tier])tierGroups[tier]=[];
tierGroups[tier].push(num);
}else{
untiered.push(num);
}
}
const tierOrder=Object.keys(tierList);
for(const tier of tierOrder){
if(!tierGroups[tier])continue;
tierGroups[tier].sort((a,b)=>a-b);
}
untiered.sort((a,b)=>a-b);
let html='';
for(const tier of tierOrder){
if(!tierGroups[tier]||tierGroups[tier].length===0)continue;
const pokemonHtml=await Promise.all(tierGroups[tier].map(async num=>{
const name=await getPokemonName(num);
return `<div class="pokemon-card" onclick="draftPokemon(${num})" 
title="Draft for ${trainers.find(t=>t.id===activeTrainerId)?.name||'trainer'}">
<img src="${getPokemonImageUrl(num)}" alt="${name||num}" onerror="this.style.display='none'">
<div class="pokemon-number">#${num}</div>
<div class="pokemon-name">${name||'...'}</div>
</div>`;
}));
html+=`<div class="tier-section">
<div class="tier-header">${tier}</div>
<div class="pokemon-grid">${pokemonHtml.join('')}</div>
</div>`;
}
if(untiered.length>0){
const untieredHtml=await Promise.all(untiered.map(async num=>{
const name=await getPokemonName(num);
return `<div class="pokemon-card" onclick="draftPokemon(${num})" 
title="Draft for ${trainers.find(t=>t.id===activeTrainerId)?.name||'trainer'}">
<img src="${getPokemonImageUrl(num)}" alt="${name||num}" onerror="this.style.display='none'">
<div class="pokemon-number">#${num}</div>
<div class="pokemon-name">${name||'...'}</div>
</div>`;
}));
html+=`<div class="tier-section">
<div class="tier-header">Untiered</div>
<div class="pokemon-grid">${untieredHtml.join('')}</div>
</div>`;
}
container.innerHTML=html;
}
}
async function filterPokemon(){
const filter=document.getElementById('searchInput').value;
await renderPokemon(filter);
}
async function exportDraft(){
const data=JSON.stringify(trainers,null,2);
const textarea=document.getElementById('draftData');
textarea.value=data;
try{
await navigator.clipboard.writeText(data);
}catch(e){
textarea.select();
}
}
async function loadDraft(){
const textarea=document.getElementById('draftData');
const data=textarea.value.trim();
if(!data)return;
try{
const loadedTrainers=JSON.parse(data);
if(!Array.isArray(loadedTrainers)){
throw new Error('Invalid data format');
}
trainers=loadedTrainers;
draftedPokemon=new Set();
trainers.forEach(trainer=>{
trainer.pokemon.forEach(num=>draftedPokemon.add(num));
});
activeTrainerId=trainers.length>0?trainers[0].id:null;
await renderTrainers();
await renderPokemon(document.getElementById('searchInput').value);
}catch(e){
}
}
async function exportTierList(){
const data=JSON.stringify(tierList,null,2);
const textarea=document.getElementById('tierListData');
textarea.value=data;
try{
await navigator.clipboard.writeText(data);
}catch(e){
textarea.select();
}
}
async function loadTierList(){
const textarea=document.getElementById('tierListData');
const data=textarea.value.trim();
if(!data)return;
try{
const loaded=JSON.parse(data);
if(typeof loaded!=='object'||Array.isArray(loaded)){
throw new Error('Invalid data format');
}
tierList=loaded;
await renderPokemon(document.getElementById('searchInput').value);
}catch(e){
}
}
renderPokemon();
</script>
</body>
</html>

